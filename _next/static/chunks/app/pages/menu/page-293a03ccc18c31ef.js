(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{8786:function(e,n,t){Promise.resolve().then(t.bind(t,1153))},1153:function(e,n,t){"use strict";t.r(n);var a=t(7437),i=t(2265),s=t(6463);n.default=()=>{let e=(0,s.useRouter)(),[n,t]=(0,i.useState)([]);(0,i.useEffect)(()=>{t(JSON.parse(localStorage.getItem("cart"))||[])},[]),(0,i.useEffect)(()=>{e.push(`/pages/menu?cart=${encodeURIComponent(JSON.stringify(n))}`)},[n]);let r=e=>{n.find(n=>n.name===e.name)?t(n.map(n=>n.name===e.name?{...n,quantity:n.quantity+1}:n)):t([...n,{...e,quantity:1}]),localStorage.setItem("cart",JSON.stringify(n))},c=e=>{t(n.map(n=>n.name===e.name?{...n,quantity:n.quantity-1}:n).filter(e=>e.quantity>0))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Меню кофейни"}),(0,a.jsx)("div",{className:"menu",children:[{name:"Эспрессо",price:"50 руб.",image:"/express.jfif"},{name:"Американо",price:"70 руб.",image:"/americano.jfif"},{name:"Капучино",price:"100 руб.",image:"/capo.jfif"},{name:"Латте",price:"120 руб.",image:"/latte.jfif"},{name:"Мокко",price:"150 руб.",image:"/moco.jfif"}].map((e,t)=>(0,a.jsxs)("div",{className:"menu-item",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,width:100,height:100}),(0,a.jsxs)("div",{children:[t+1,". ",e.name," - ",e.price," руб."]}),(0,a.jsxs)("div",{className:"quantity-controls",children:[(0,a.jsx)("button",{onClick:()=>c(e),children:"-"}),(0,a.jsx)("span",{children:n.find(n=>n.name===e.name)?.quantity||0}),(0,a.jsx)("button",{onClick:()=>r(e),children:"+"})]})]},t))}),(0,a.jsx)("button",{type:"button",onClick:()=>{let t=JSON.stringify(n);e.push(`/pages/cart?cart=${encodeURIComponent(t)}`)},children:"Перейти в корзину"})]})}},6463:function(e,n,t){"use strict";var a=t(1169);t.o(a,"useRouter")&&t.d(n,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(n,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8786)}),_N_E=e.O()}]);