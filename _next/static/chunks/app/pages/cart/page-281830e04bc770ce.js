(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{661:function(e,n,t){Promise.resolve().then(t.bind(t,9455))},9455:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var s=t(7437),i=t(2265),a=t(6463),r=()=>{let[e,n]=(0,i.useState)([]),t=(0,a.useSearchParams)().get("cart");(0,i.useEffect)(()=>{n(JSON.parse(decodeURIComponent(t))||[])},[]),(0,i.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);let r=t=>{n(e.filter(e=>e.name!==t.name))},c=t=>{n(e.map(e=>e.name===t.name?{...e,quantity:e.quantity+1}:e))},u=t=>{n(e.map(e=>e.name===t.name?{...e,quantity:e.quantity-1}:e).filter(e=>e.quantity>0))},l=e.reduce((e,n)=>e+n.price*n.quantity,0);return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Корзина"}),0===e.length?(0,s.jsx)("p",{children:"Ваша корзина пуста."}):(0,s.jsxs)("div",{children:[e.map((e,n)=>(0,s.jsxs)("div",{className:"cart-item",children:[(0,s.jsx)("img",{src:e.image,alt:e.name,width:100,height:100}),(0,s.jsxs)("div",{children:[e.name," - ",e.price," руб."]}),(0,s.jsxs)("div",{className:"quantity-controls",children:[(0,s.jsx)("button",{onClick:()=>u(e),children:"-"}),(0,s.jsx)("span",{children:e.quantity}),(0,s.jsx)("button",{onClick:()=>c(e),children:"+"})]}),(0,s.jsx)("button",{onClick:()=>r(e),children:"Удалить"})]},n)),(0,s.jsxs)("div",{className:"total-price",children:["Общая стоимость: ",l," руб."]})]})]})},c=()=>(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(r,{})})},6463:function(e,n,t){"use strict";var s=t(1169);t.o(s,"useRouter")&&t.d(n,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(n,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=661)}),_N_E=e.O()}]);